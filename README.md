# BuffPanel Unity SDK

This repository contains an implementation with a simple interface designed to easily communicate with the REST API of the BuffPanel service in your Unity Game.

Also included are files for the creation of a test project for debugging purposes.

For more information on the BuffPanel service, please visit our [website](http://BuffPanel.com/).

## Setup

To use the Unity SDK in your game, all you need to do is copy the contents of the `/Assets/Scripts/BuffPanelSDK/` folder in this repository into your game project.

## Start tracking

The SDK currently enables you to notify the BuffPanel server that a **player** with the supplied `player_tokens` (which must be at least one of two identifiers `registered` or `user_id` of the player, for instance her Steam Id or AppleId) has triggered an **event** (for instance the installation of your game).

Upon recieving this event the BuffPanel server identifies your game using a `game_token` (this is a unique identifier for your game generated by the BuffPanel server during the registration process) and internally attempts to attribute the **player** to one of the running **campaigns** for your game.

Include this line of code in the place in your project's code, where your game starts to track the **run event**:

```
BuffPanel.BuffPanel.Track(game_token, player_token);
```

Where `game_token` is of type `string` and `player_token` is a placeholder of type `string` containing the player's unique identifier.

## How it works?

When called, the SDK sends a HTTP request to the REST API of the BuffPanel server.

## Callbacks

You can add an event handler by extending the supplied `BuffPanel.Callback` interface and implementing both its methods.

If a request attempt succeeds, the method `void success(WWW www)` is called and if it fails the method `void error(WWW www)` is called instead. In both methods the `WWW www` object contains all relevant information regarding the request. For more information on the `WWW` class please read the [Unity documentation](http://docs.unity3d.com/ScriptReference/WWW.html).

To use your extended version of the `BuffPanel.Callback` interface (let's say you called it `MyCallback`), you need to include this line of code in the place in your project's code, where you wish to track the **event**:

```
BuffPanel.BuffPanel.Track(game_token, player_tokens, new MyCallback());
```
